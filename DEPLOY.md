# Инструкция по деплою сайта

## Вариант 1: Vercel (Рекомендуется - самый простой)

Vercel - это платформа, созданная специально для Next.js. Деплой займет 5 минут.

### Шаги:

1. **Создайте аккаунт на Vercel**
   - Перейдите на https://vercel.com
   - Зарегистрируйтесь через GitHub (рекомендуется)

2. **Подготовьте проект для GitHub**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   ```

3. **Создайте репозиторий на GitHub**
   - Перейдите на https://github.com
   - Создайте новый репозиторий
   - Загрузите код:
   ```bash
   git remote add origin https://github.com/ваш-username/ваш-репозиторий.git
   git push -u origin main
   ```

4. **Деплой на Vercel**
   - Зайдите на https://vercel.com
   - Нажмите "Add New Project"
   - Выберите ваш GitHub репозиторий
   - Vercel автоматически определит Next.js
   - Нажмите "Deploy"

5. **Настройте переменные окружения**
   - В настройках проекта добавьте:
     - `JWT_SECRET` = ваш-секретный-ключ (сгенерируйте случайный длинный ключ)

6. **Готово!**
   - Vercel даст вам URL типа: `ваш-проект.vercel.app`
   - Сайт будет доступен всем в интернете!

---

## Вариант 2: Netlify

### Шаги:

1. **Создайте аккаунт на Netlify**
   - https://www.netlify.com

2. **Подготовьте проект**
   - Убедитесь, что код в GitHub

3. **Деплой**
   - Нажмите "Add new site" → "Import an existing project"
   - Выберите GitHub репозиторий
   - Настройки:
     - Build command: `npm run build`
     - Publish directory: `.next`
   - Добавьте переменную окружения `JWT_SECRET`

---

## Вариант 3: Railway

### Шаги:

1. **Создайте аккаунт на Railway**
   - https://railway.app

2. **Деплой**
   - "New Project" → "Deploy from GitHub repo"
   - Выберите репозиторий
   - Railway автоматически определит Next.js
   - Добавьте переменную `JWT_SECRET` в настройках

---

## Важные замечания

### ⚠️ Проблема с файловой базой данных

Текущая версия использует JSON файлы для хранения данных. Это работает локально, но на Vercel/Netlify файлы могут не сохраняться между деплоями.

### Решения:

**Вариант A: Использовать внешнюю БД (рекомендуется для продакшена)**
- MongoDB Atlas (бесплатный тариф)
- Supabase (бесплатный тариф)
- PostgreSQL на Railway

**Вариант B: Оставить как есть (для тестирования)**
- Данные могут теряться при перезапуске
- Подходит только для демо/тестирования

### Настройка MongoDB (если выберете этот вариант):

1. Создайте аккаунт на https://www.mongodb.com/cloud/atlas
2. Создайте бесплатный кластер
3. Получите connection string
4. Добавьте в переменные окружения:
   - `MONGODB_URI` = ваш connection string

---

## Быстрый старт с Vercel (5 минут)

1. Зарегистрируйтесь на https://vercel.com
2. Подключите GitHub
3. Нажмите "New Project"
4. Выберите репозиторий
5. Нажмите "Deploy"
6. Добавьте `JWT_SECRET` в Environment Variables
7. Готово! Сайт доступен по адресу `ваш-проект.vercel.app`

---

## Дополнительные настройки

### Кастомный домен
- В настройках проекта Vercel можно добавить свой домен
- Например: `school-network.ru`

### HTTPS
- Vercel автоматически предоставляет SSL сертификат
- Ваш сайт будет доступен по HTTPS

---

## Нужна помощь?

Если возникнут проблемы при деплое, проверьте:
1. Что все зависимости установлены (`npm install`)
2. Что проект собирается локально (`npm run build`)
3. Что переменные окружения настроены
4. Логи деплоя в панели Vercel

